<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>
      {%- if page.title -%}{{ page.title }} · {{ site.title }}{%- else -%}{{ site.title }}{%- endif -%}
    </title>
    <meta name="description" content="{{ page.excerpt | default: site.description | strip_html | strip_newlines | escape }}" />

    <link rel="stylesheet" href="{{ '/assets/css/main.css' | relative_url }}?v={{ site.time | date: '%s' }}" />
    <link rel="alternate" type="application/rss+xml" title="{{ site.title }}" href="{{ '/feed.xml' | relative_url }}" />
    <link rel="canonical" href="{{ page.url | absolute_url }}" />
    <link rel="icon" href="{{ '/assets/favicon.ico' | relative_url }}" />

    {%- comment -%}
      Google Analytics 4 (GA4)
      Configure your Measurement ID in _config.yml as `ga_measurement_id: "G-XXXXXXXXXX"`.
      Only injected for production builds (GitHub Pages builds are production).
    {%- endcomment -%}
    {%- if jekyll.environment == "production" and site.ga_measurement_id and site.ga_measurement_id != "" -%}
      <script async src="https://www.googletagmanager.com/gtag/js?id={{ site.ga_measurement_id }}"></script>
      <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', '{{ site.ga_measurement_id }}', { anonymize_ip: true });
      </script>
    {%- endif -%}
  </head>
  <body>
    <header class="nav">
      <div class="nav-inner">
        <a class="brand" href="{{ '/' | relative_url }}">{{ site.title }}</a>
        <nav class="nav-links" aria-label="Primary navigation">
          <a href="{{ '/posts' | relative_url }}">Posts</a>
          <a href="{{ '/about' | relative_url }}">About</a>
        </nav>
      </div>
    </header>

    <main class="container">
      {{ content }}
    </main>

    <footer class="footer">
      <div class="container">
        <div class="footer-inner">
          <span>&copy; {{ 'now' | date: '%Y' }} {{ site.title }}</span>
          <span class="sep">·</span>
          <a href="{{ '/feed.xml' | relative_url }}">RSS</a>
        </div>
      </div>
    </footer>
  </body>
</html>


